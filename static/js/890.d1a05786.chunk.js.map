{"version":3,"file":"static/js/890.d1a05786.chunk.js","mappings":"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","sources":["pages/detailsPage/MoviesDetails.styled.js","pages/detailsPage/MoviesDetailsPage.jsx","services/filmApi.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const GoBackButton = styled.button`\n    margin-top: ${p => p.theme.space[5]}px;\n    border: ${p => p.theme.borders.item};\n    border-radius: ${p => p.theme.radii.sm};\n    background-color: ${p => p.theme.colors.white};\n    &:hover,\n    &:focus{\n        box-shadow: ${p => p.theme.shadows.slim};\n        border-color: ${p => p.theme.colors.primary};\n        color: ${p => p.theme.colors.primary};\n    }\n`;\n\nexport const LinkButton = styled.button`\n    border: ${p => p.theme.borders.item};\n    border-radius: ${p => p.theme.radii.sm};\n    background-color: ${p => p.theme.colors.white};\n    font-size: ${p => p.theme.fontSizes.m};\n    width: 100px;\n    height: 50px;\n    &:hover,\n    &:focus{\n        box-shadow: ${p => p.theme.shadows.slim};\n        border-color: ${p => p.theme.colors.primary};\n        color: ${p => p.theme.colors.primary};\n    }\n`","\nimport { useState, useEffect, Suspense } from \"react\";\nimport { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\n\nimport { getFilmsById } from \"services/filmApi\";\n\nimport { Loader } from \"components/loader/Loader\";\n\nimport { Box } from \"Box\";\nimport { GoBackButton, LinkButton } from \"./MoviesDetails.styled\";\n\nconst MoviesDetailsPage = () => {\n    const [state, setState] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n\n    const { movieId } = useParams();\n\n    const location = useLocation()\n    \n   \n    \n    \n    useEffect(() => {\n        const getMovie = async () => { \n            \n            try {\n                setLoading(true);\n                setError(null);\n\n                const movieData = await getFilmsById(movieId);\n                setState(movieData);\n                \n            } catch (error) {\n                setError(error)\n            } finally { \n                setLoading(false);\n            }\n\n        } \n        getMovie();\n    }, [movieId])\n    \n    \n\n    \n    \n    const { title, poster_path, overview, release_date, vote_average, genres } = state;\n    \n    // if (!state) return null;\n    const isNoData = state.length === 0 && error && !loading;\n    const isGenres = genres !== undefined;\n    const isHasInfo = state.length !== 0 && !error && !loading;\n    \n\n    const backLink = location.state?.from ?? '/movies';\n    \n\n    return (\n        <Box p='32px' pt='0'>\n\n            \n            <Link to={backLink}> <GoBackButton>Go back</GoBackButton> </Link>\n\n            {loading && <Loader />}\n\n            {isNoData && <Box as='h3' display='flex' justifyContent='center' pt='32px'>Ooops...There is no movie detail info yet</Box>}\n\n            {isHasInfo &&\n                <Box display='flex' mt='32px'>\n                    <Box as='img' mr='32px' src={`https://image.tmdb.org/t/p/w500${poster_path}`} alt={title} /> \n                    <Box display='flex' flexDirection='column' gridGap='16px'>\n                        <h2>{title}</h2>\n                        <p>Overview: {overview}</p>\n                        <p>Release date: {release_date ?? `2022`}</p> \n                        <p>Rating: {vote_average}</p>\n                        {isGenres && <p>Genres: {genres.map(({ name }) => `${name}`).join(', ')}</p>}\n                        \n                    </Box>    \n                </Box>} \n            {isHasInfo && \n                <Box display='flex' justifyContent='center' mt='32px' gridGap='16px'>\n                    <Link to='cast' state={{from: backLink}}> <LinkButton>Cast</LinkButton> </Link>\n                    <Link to='reviews' state={{from: backLink}}> <LinkButton>Reviews</LinkButton> </Link>\n                </Box>}\n            <Suspense>\n                <Outlet />\n            </Suspense>\n            \n        </Box>\n    )\n}\n\nexport default MoviesDetailsPage;","import axios from \"axios\";\n\nconst API_KEY = 'f64cdb7daa669b42fe97bd3c6db06632';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function getTrandingFilms() {\n    const { data } = await axios.get(`${BASE_URL}trending/all/day?api_key=${API_KEY}`);\n    return data.results;\n}\n\nexport async function getFilmsById(id) {\n    const { data } = await axios.get(`${BASE_URL}movie/${id}?api_key=${API_KEY}`);\n    return data;\n}\n\nexport async function getFilmsCast(id) {\n    const { data } = await axios.get(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`);\n    return data.cast;\n}\n\nexport async function getFilmReview(id) {\n    const { data } = await axios.get(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`);\n    return data.results;\n}\n\nexport async function getSearchFilms(query) {\n    const { data } = await axios.get(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`);\n    return data.results;\n}"],"names":["GoBackButton","styled","p","theme","space","borders","item","radii","sm","colors","white","shadows","slim","primary","LinkButton","fontSizes","m","useState","state","setState","loading","setLoading","error","setError","movieId","useParams","location","useLocation","useEffect","getMovie","getFilmsById","movieData","title","poster_path","overview","release_date","vote_average","genres","isNoData","length","isGenres","undefined","isHasInfo","backLink","from","pt","to","as","display","justifyContent","mt","mr","src","alt","flexDirection","gridGap","map","name","join","Suspense","API_KEY","BASE_URL","getTrandingFilms","axios","data","results","id","getFilmsCast","cast","getFilmReview","getSearchFilms","query"],"sourceRoot":""}